/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{var e={449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"\n.player-list {\n    margin: .5em 1em;\n    padding: 1em 0em 0.5em;\n    border: 1px solid var(--accent-color);\n    border-radius: var(--border-radius);\n\n    display: inline-block;\n    position: absolute;\n}\n\n.player-item {\n    padding: 0 1em .5em;\n    list-style: none;\n}\n\n.player-picture {\n    display: inline-block;\n    vertical-align: middle;\n    border-radius: 100%;\n    border: 1px solid var(--primary-color);\n    width: 2em;\n    height: 2em;\n    margin-right: .5em;\n}\n\n.player-name {\n    vertical-align: middle;\n}\n",""]);const o=i},270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"\n.player-list {\n    margin: .5em 1em;\n    padding: 1em 0em 0.5em;\n    border: 1px solid var(--accent-color);\n    border-radius: var(--border-radius);\n\n    display: inline-block;\n    position: absolute;\n}\n\n.player-item {\n    padding: 0 1em .5em;\n    list-style: none;\n}\n\n.player-picture {\n    display: inline-block;\n    vertical-align: middle;\n    border-radius: 100%;\n    border: 1px solid var(--primary-color);\n    width: 2em;\n    height: 2em;\n    margin-right: .5em;\n}\n\n.player-name {\n    vertical-align: middle;\n}\n",""]);const o=i},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},922:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"client/index.html"},942:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"favicon.png"},466:function(e){e.exports=function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test;var s=/\S/;function a(e){return!function(e,t){return o.call(e,t)}(s,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var l=/\s*/,u=/\s+/,p=/\s*=/,d=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,r,o,s=this.cache;if(s.hasOwnProperty(e))t=s[e];else{for(var a,c,l,u=this,p=!1;u;){if(e.indexOf(".")>0)for(a=u.view,c=e.split("."),l=0;null!=a&&l<c.length;)l===c.length-1&&(p=i(a,c[l])||(r=a,o=c[l],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(o))),a=a[c[l++]];else a=u.view[e],p=i(u.view,e);if(p){t=a;break}u=u.parent}s[e]=t}return n(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(e,n){var i=this.templateCache,o=e+":"+(n||m.tags).join(":"),s=void 0!==i,c=s?i.get(o):void 0;return null==c&&(c=function(e,n){if(!e)return[];var i,o,s,c=!1,g=[],v=[],y=[],b=!1,w=!1,C="",S=0;function x(){if(b&&!w)for(;y.length;)delete v[y.pop()];else y=[];b=!1,w=!1}function k(e){if("string"==typeof e&&(e=e.split(u,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(r(e[0])+"\\s*"),o=new RegExp("\\s*"+r(e[1])),s=new RegExp("\\s*"+r("}"+e[1]))}k(n||m.tags);for(var j,T,A,E,I,D,M=new f(e);!M.eos();){if(j=M.pos,A=M.scanUntil(i))for(var U=0,O=A.length;U<O;++U)a(E=A.charAt(U))?(y.push(v.length),C+=E):(w=!0,c=!0,C+=" "),v.push(["text",E,j,j+1]),j+=1,"\n"===E&&(x(),C="",S=0,c=!1);if(!M.scan(i))break;if(b=!0,T=M.scan(h)||"name",M.scan(l),"="===T?(A=M.scanUntil(p),M.scan(p),M.scanUntil(o)):"{"===T?(A=M.scanUntil(s),M.scan(d),M.scanUntil(o),T="&"):A=M.scanUntil(o),!M.scan(o))throw new Error("Unclosed tag at "+M.pos);if(I=">"==T?[T,A,j,M.pos,C,S,c]:[T,A,j,M.pos],S++,v.push(I),"#"===T||"^"===T)g.push(I);else if("/"===T){if(!(D=g.pop()))throw new Error('Unopened section "'+A+'" at '+j);if(D[1]!==A)throw new Error('Unclosed section "'+D[1]+'" at '+j)}else"name"===T||"{"===T||"&"===T?w=!0:"="===T&&k(A)}if(x(),D=g.pop())throw new Error('Unclosed section "'+D[1]+'" at '+M.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,s=e.length;o<s;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(v))}(e,n),s&&i.set(o,c)),c},v.prototype.render=function(e,t,n,r){var i=this.getConfigTags(r),o=this.parse(e,i),s=t instanceof g?t:new g(t,void 0);return this.renderTokens(o,s,n,e,r)},v.prototype.renderTokens=function(e,t,n,r,i){for(var o,s,a,c="",l=0,u=e.length;l<u;++l)a=void 0,"#"===(s=(o=e[l])[0])?a=this.renderSection(o,t,n,r,i):"^"===s?a=this.renderInverted(o,t,n,r,i):">"===s?a=this.renderPartial(o,t,n,i):"&"===s?a=this.unescapedValue(o,t):"name"===s?a=this.escapedValue(o,t,i):"text"===s&&(a=this.rawValue(o)),void 0!==a&&(c+=a);return c},v.prototype.renderSection=function(e,r,i,o,s){var a=this,c="",l=r.lookup(e[1]);if(l){if(t(l))for(var u=0,p=l.length;u<p;++u)c+=this.renderTokens(e[4],r.push(l[u]),i,o,s);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)c+=this.renderTokens(e[4],r.push(l),i,o,s);else if(n(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,o.slice(e[3],e[5]),(function(e){return a.render(e,r,i,s)})))&&(c+=l)}else c+=this.renderTokens(e[4],r,i,o,s);return c}},v.prototype.renderInverted=function(e,n,r,i,o){var s=n.lookup(e[1]);if(!s||t(s)&&0===s.length)return this.renderTokens(e[4],n,r,i,o)},v.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},v.prototype.renderPartial=function(e,t,r,i){if(r){var o=this.getConfigTags(i),s=n(r)?r(e[1]):r[e[1]];if(null!=s){var a=e[6],c=e[5],l=e[4],u=s;0==c&&l&&(u=this.indentPartial(s,l,a));var p=this.parse(u,o);return this.renderTokens(p,t,r,u,i)}}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||m.escape,i=t.lookup(e[1]);if(null!=i)return"number"==typeof i&&r===m.escape?String(i):r(i)},v.prototype.rawValue=function(e){return e[1]},v.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},v.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var m={name:"mustache.js",version:"4.1.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){y.templateCache=e},get templateCache(){return y.templateCache}},y=new v;return m.clearCache=function(){return y.clearCache()},m.parse=function(e,t){return y.parse(e,t)},m.render=function(e,n,r,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((t(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)'));var o;return y.render(e,n,r,i)},m.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))},m.Scanner=f,m.Context=g,m.Writer=v,m}()},379:(e,t,n)=>{"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},r=[],i=0;i<e.length;i++){var a=e[i],c=t.base?a[0]+t.base:a[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var p=s(u),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==p?(o[p].references++,o[p].updater(d)):o.push({identifier:u,updater:g(d,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function p(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function d(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,f=0;function g(e,t){var n,r,i;if(t.singleton){var o=f++;n=h||(h=c(t)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=c(t),r=d.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);o[i].references--}for(var c=a(e,t),l=0;l<n.length;l++){var u=s(n[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=c}}}}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{"use strict";var e="urn:x-cast:el-concurso:msg";class t{constructor(e,t){this.event=e,this.data=t}}var r=n(379),i=n.n(r),o=n(449);i()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;var s=n(466),a=n.n(s);class c{constructor(e){this.client=e}render(e){return a().render("\n            {{#canConnect}}\n                <button onclick=\"action('doCreateSession')\">Connect</button>\n            {{/canConnect}}\n            {{^canConnect}}\n                Chromecast not available.\n            {{/canConnect}}\n            ",{canConnect:e.chromecastAvailable})}doCreateSession(){this.client.doCreateSession()}}class l{constructor(e){this.connected=!1,this.chromecastAvailable=!1,this.state=e}}var u=n(270);i()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;class p{constructor(e){this.client=e}render(e){return a().render('\n            SessionId = {{sessionId}}\n            <br/>\n            Choose your name: <input id="lobby_player-name"></input>\n            <br/>\n            <button onclick="action(\'playerReady\')">Ready</button>\n        ',{sessionId:e.session.sessionId})}playerReady(){let e=document.getElementById("lobby_player-name");this.client.sendMessage(new t(0,e.value))}}n(922),n(942);let d=new URLSearchParams(window.location.search).get("sessionId"),h=document.getElementById("session-id"),f=new class{constructor(e,t){this.gameData=new l(0),this.contentDiv=document.getElementById("content"),this.joinSessionId=e,this.link=t,this.scene=new c(this)}setup(){let e=new chrome.cast.SessionRequest("D9DAAF03"),t=new chrome.cast.ApiConfig(e,(e=>this.sessionListener(e)),(e=>this.chromecastStatusChanged(e)),chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED);chrome.cast.initialize(t,(()=>this.onInitSuccess()),(e=>console.error(e)))}updateContent(){var e=this.scene.render(this.gameData);this.contentDiv.innerHTML=e}chromecastStatusChanged(e){this.gameData.chromecastAvailable=e==chrome.cast.ReceiverAvailability.AVAILABLE,this.updateContent()}teardown(){this.gameData&&this.gameData.session&&this.gameData.session.leave()}onInitSuccess(){console.info("init success"),this.joinSessionId&&this.doJoinSession()}sessionListener(t){this.gameData.connected=!0,this.gameData.session=t,this.gameData.state=1,t.addUpdateListener((e=>this.sessionUpdate(e))),t.addMessageListener(e,(e=>this.processMessage(e))),this.updateContent()}sessionUpdate(e){var t=e?"Session Updated":"Session Removed";console.info(t)}processMessage(e){console.log(e)}doJoinSession(){console.info("Joining session "+this.joinSessionId),chrome.cast.requestSessionById(this.joinSessionId)}doCreateSession(){chrome.cast.requestSession((t=>{t.addMessageListener(e,(e=>this.processMessage(e))),this.gameData.session=t,this.scene=new p(this),this.updateContent()}),(e=>{console.info(e)}))}action(e){this.scene&&this.scene[e]?this.scene[e]():console.warn("Action "+e+" not found!")}sendMessage(t){this.gameData.session.sendMessage(e,t)}}(d,h);window.client=f,window.__onGCastApiAvailable=function(e){e&&f.setup()},window.onbeforeunload=function(e){f.teardown()},window.action=function(e){f&&f.action(e)}})()})();